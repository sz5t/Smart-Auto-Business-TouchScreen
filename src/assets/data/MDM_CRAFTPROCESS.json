{
  "rows": [
    {
      "row": {
        "cols": [
          {
            "id": "MDmCraftprocess",
            "title": "标准工艺",
            "span": 24,
            "size": {
              "nzXs": 24,
              "nzSm": 24,
              "nzMd": 24,
              "nzLg": 24,
              "ngXl": 24
            },
            "viewCfg": [
              {
                "config": {
                  "title": "",
                  "viewId": "MdmCraftprocess",
                  "component": "bsnTable",
                  "info": true,
                  "keyId": "Id",
                  "size": "small",
                  "pagination": true,
                  "showTotal": true,
                  "pageSize": 10,
                  "showCheckBox": true,
                  "pageSizeOptions": [
                    5,
                    10,
                    20,
                    30,
                    40
                  ],
                  "ajaxConfig": {
                    "url": "common/GetMdmCraftprocess",
                    "ajaxType": "get",
                    "params": [
                      {
                        "name": "deleteflag",
                        "valueName": "",
                        "type": "value",
                        "value": 1
                      }
                    ],
                    "filter": []
                  },
                  "columns": [
                    {
                      "title": "序号",
                      "field": "_serilize",
                      "hidden": false,
                      "width": "3%",
                      "titleAlign": "text-center",
                      "fieldAlign": "text-center"
                    },
                    {
                      "title": "Id",
                      "field": "Id",
                      "hidden": true,
                      "editor": {
                        "type": "input",
                        "field": "Id",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "工艺编号",
                      "field": "craftprocesscode",
                      "hidden": false,
                      "readonly": false,
                      "showFilter": false,
                      "showSort": true,
                      "width": "20%",
                      "editor": {
                        "type": "input",
                        "field": "craftprocesscode",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "工艺名称",
                      "field": "craftprocessname",
                      "hidden": false,
                      "readonly": false,
                      "showFilter": false,
                      "showSort": true,
                      "width": "20%",
                      "editor": {
                        "type": "input",
                        "field": "craftprocessname",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "排序码",
                      "field": "sortcode",
                      "hidden": false,
                      "readonly": false,
                      "showFilter": false,
                      "showSort": true,
                      "editor": {
                        "type": "input",
                        "field": "sortcode",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "启用状态",
                      "field": "enabled",
                      "width": "12%",
                      "hidden": false,
                      "readonly": true
                    },
                    {
                      "title": "启用状态",
                      "field": "xenabled",
                      "width": "12%",
                      "hidden": false,
                      "readonly": true,
                      "formatter": [
                        {
                          "value": 0,
                          "bgcolor": "",
                          "fontcolor": "",
                          "valueas": "起草"
                        },
                        {
                          "value": 1,
                          "bgcolor": "",
                          "fontcolor": "text-blue",
                          "valueas": "已启用"
                        },
                        {
                          "value": 2,
                          "bgcolor": "",
                          "fontcolor": "text-green",
                          "valueas": "已禁用"
                        }
                      ]
                    },
                    {
                      "title": "密级",
                      "field": "securitylevel",
                      "hidden": true,
                      "editor": {
                        "type": "input",
                        "field": "securitylevel",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "删除标记",
                      "field": "deleteflag",
                      "hidden": true,
                      "editor": {
                        "type": "input",
                        "field": "deleteflag",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "备注",
                      "field": "remark",
                      "width": "20%",
                      "hidden": false,
                      "editor": {
                        "type": "input",
                        "field": "remark",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    }
                  ],
                  "toolbar": [
                    {
                      "group": [
                        {
                          "name": "M_refresh",
                          "class": "editable-add-btn",
                          "text": "刷新",
                          "action": "REFRESH",
                          "icon": "reload",
                          "color": "text-primary"
                        },
                        {
                          "name": "M_addRow",
                          "class": "editable-add-btn",
                          "text": "新增",
                          "action": "CREATE",
                          "icon": "plus",
                          "color": "text-primary"
                        },
                        {
                          "name": "M_updateRow",
                          "class": "editable-add-btn",
                          "text": "修改",
                          "action": "EDIT",
                          "icon": "edit",
                          "color": "text-success"
                        },
                        {
                          "name": "M_deleteRow",
                          "class": "editable-add-btn",
                          "text": "删除",
                          "icon": "delete",
                          "color": "text-red-light",
                          "ajaxConfig": [
                            {
                              "action": "EXECUTE_CHECKED",
                              "url": "common/DeleteCraftProcess",
                              "ajaxType": "post",
                              "title": "提示",
                              "message": "确定要删除该工艺记录吗？删除后对应明细信息也全选删除！",
                              "params": [
                                {
                                  "name": "Id",
                                  "valueName": "Id",
                                  "type": "checkedRow"
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "M_saveRow",
                          "class": "editable-add-btn",
                          "text": "保存",
                          "icon": "save",
                          "color": "text-primary",
                          "ajaxConfig": [
                            {
                              "action": "EXECUTE_SAVE_ROW",
                              "url": "common/MdmCraftprocess",
                              "ajaxType": "post",
                              "params": [
                                {
                                  "name": "craftprocesscode",
                                  "type": "componentValue",
                                  "valueName": "craftprocesscode"
                                },
                                {
                                  "name": "craftprocessname",
                                  "type": "componentValue",
                                  "valueName": "craftprocessname"
                                },
                                {
                                  "name": "enabled",
                                  "type": "value",
                                  "valueName": "",
                                  "value": 0
                                },
                                {
                                  "name": "securitylevel",
                                  "type": "componentValue",
                                  "valueName": "securitylevel"
                                },
                                {
                                  "name": "sortcode",
                                  "type": "componentValue",
                                  "valueName": "sortcode"
                                },
                                {
                                  "name": "deleteflag",
                                  "type": "value",
                                  "valueName": "",
                                  "value": 1
                                },
                                {
                                  "name": "remark",
                                  "type": "componentValue",
                                  "valueName": "remark"
                                }
                              ]
                            },
                            {
                              "action": "EXECUTE_EDIT_ROW",
                              "url": "common/MdmCraftprocess",
                              "ajaxType": "put",
                              "params": [
                                {
                                  "name": "Id",
                                  "type": "componentValue",
                                  "valueName": "Id"
                                },
                                {
                                  "name": "craftprocesscode",
                                  "type": "componentValue",
                                  "valueName": "craftprocesscode"
                                },
                                {
                                  "name": "craftprocessname",
                                  "type": "componentValue",
                                  "valueName": "craftprocessname"
                                },
                                {
                                  "name": "securitylevel",
                                  "type": "componentValue",
                                  "valueName": "securitylevel"
                                },
                                {
                                  "name": "sortcode",
                                  "type": "componentValue",
                                  "valueName": "sortcode"
                                },
                                {
                                  "name": "deleteflag",
                                  "type": "componentValue",
                                  "valueName": "deleteflag"
                                },
                                {
                                  "name": "remark",
                                  "type": "componentValue",
                                  "valueName": "remark"
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "M_cancelrow",
                          "class": "editable-add-btn",
                          "text": "取消",
                          "action": "CANCEL",
                          "icon": "rollback",
                          "color": "text-grey-darker"
                        }
                      ]
                    },
                    {
                      "group": [
                        {
                          "name": "M_addSearchRow",
                          "class": "editable-add-btn",
                          "text": "查询",
                          "action": "SEARCH",
                          "actionType": "addSearchRow",
                          "actionName": "addSearchRow",
                          "icon": "search",
                          "color": "text-primary"
                        },
                        {
                          "name": "M_cancelSearchRow",
                          "class": "editable-add-btn",
                          "text": "取消查询",
                          "action": "SEARCH",
                          "actionType": "cancelSearchRow",
                          "actionName": "cancelSearchRow",
                          "icon": "rollback",
                          "color": "text-grey-darker"
                        }
                      ]
                    },
                    {
                      "group": [
                        {
                          "name": "M_CraftEnabled",
                          "class": "editable-add-btn",
                          "text": "启用",
                          "icon": "like",
                          "color": "text-success",
                          "ajaxConfig": [
                            {
                              "action": "EXECUTE_CHECKED",
                              "url": "common/UpdateCraftEnabled",
                              "ajaxType": "post",
                              "title": "提示",
                              "message": "确定要【启用】吗？",
                              "params": [
                                {
                                  "name": "Id",
                                  "valueName": "Id",
                                  "type": "checkedRow"
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "M_CraftDisabled",
                          "class": "editable-add-btn",
                          "text": "禁用",
                          "icon": "exception",
                          "color": "text-red-light",
                          "ajaxConfig": [
                            {
                              "action": "EXECUTE_CHECKED",
                              "url": "common/UpdateCraftDisabled",
                              "ajaxType": "post",
                              "title": "提示",
                              "message": "确定要【禁用】选中的工艺信息吗？禁用后工艺下的工序状态变更为不可选择状态。",
                              "params": [
                                {
                                  "name": "Id",
                                  "valueName": "Id",
                                  "type": "checkedRow"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ],
                  "beforeOperation": [
                    {
                      "name": "M_updateRow",
                      "status": [
                        {
                          "conditions": [
                            [
                              {
                                "name": "enabled",
                                "value": 1,
                                "checkType": "value"
                              }
                            ]
                          ],
                          "action": {
                            "type": "info",
                            "message": "在当前【启用状态】为【启用】状态，无法修改工艺信息",
                            "execute": "prevent"
                          }
                        }
                      ]
                    },
                    {
                      "name": "M_deleteRow",
                      "status": [
                        {
                          "conditions": [
                            [
                              {
                                "name": "enabled",
                                "value": 1,
                                "checkType": "value"
                              }
                            ],
                            [
                              {
                                "name": "enabled",
                                "value": 2,
                                "checkType": "value"
                              }
                            ]
                          ],
                          "action": {
                            "type": "info",
                            "message": "在当前【启用状态】为【非起草】状态，无法删除工艺信息",
                            "execute": "prevent"
                          }
                        }
                      ]
                    }
                  ],
                  "componentType": {
                    "parent": true,
                    "child": true,
                    "own": true
                  }
                },
                "dataList": []
              }
            ]
          }
        ]
      }
    },
    {
      "row": {
        "cols": [
          {
            "id": "MdmProcess",
            "title": "标准工序",
            "span": 24,
            "size": {
              "nzXs": 24,
              "nzSm": 24,
              "nzMd": 24,
              "nzLg": 24,
              "ngXl": 24
            },
            "viewCfg": [
              {
                "config": {
                  "title": "",
                  "viewId": "MdmProcess",
                  "component": "bsnTable",
                  "info": true,
                  "keyId": "Id",
                  "size": "small",
                  "pagination": true,
                  "showTotal": true,
                  "showCheckBox": true,
                  "pageSize": 5,
                  "pageSizeOptions": [
                    5,
                    10,
                    20,
                    30,
                    40
                  ],
                  "ajaxConfig": {
                    "url": "common/MdmProcess",
                    "ajaxType": "get",
                    "params": [
                      {
                        "name": "craftprocessid",
                        "valueName": "_craftprocessid",
                        "type": "tempValue",
                        "value": ""
                      },
                      {
                        "name": "deleteflag",
                        "valueName": "",
                        "type": "value",
                        "value": 1
                      }
                    ]
                  },
                  "componentType": {
                    "parent": false,
                    "child": true,
                    "own": false
                  },
                  "relations": [
                    {
                      "relationViewId": "MdmCraftprocess",
                      "cascadeMode": "REFRESH_AS_CHILD",
                      "params": [
                        {
                          "pid": "Id",
                          "cid": "_craftprocessid"
                        },
                        {
                          "pid": "enabled",
                          "cid": "_enabled"
                        }
                      ],
                      "relationReceiveContent": []
                    }
                  ],
                  "columns": [
                    {
                      "title": "序号",
                      "field": "_serilize",
                      "hidden": false,
                      "width": "3%"
                    },
                    {
                      "title": "ID",
                      "field": "Id",
                      "hidden": true,
                      "editor": {
                        "type": "input",
                        "field": "Id",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "所属工艺ID",
                      "field": "craftprocessid",
                      "hidden": true,
                      "editor": {
                        "type": "input",
                        "field": "craftprocessid",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "工序编号",
                      "field": "processcode",
                      "showFilter": false,
                      "showSort": true,
                      "hidden": false,
                      "width": "25%",
                      "editor": {
                        "type": "input",
                        "field": "processcode",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "工序名称",
                      "field": "processname",
                      "showFilter": false,
                      "showSort": true,
                      "hidden": false,
                      "width": "25%",
                      "editor": {
                        "type": "input",
                        "field": "processname",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "启用状态",
                      "field": "enabled",
                      "hidden": true,
                      "editor": {
                        "type": "input",
                        "field": "enabled",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "密级",
                      "field": "securitylevel",
                      "hidden": true,
                      "editor": {
                        "type": "input",
                        "field": "securitylevel",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "排序码",
                      "field": "sortcode",
                      "showFilter": false,
                      "showSort": true,
                      "hidden": false,
                      "width": "15%",
                      "editor": {
                        "type": "input",
                        "field": "sortcode",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "删除标记",
                      "field": "deleteflag",
                      "hidden": true,
                      "editor": {
                        "type": "input",
                        "field": "deleteflag",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    },
                    {
                      "title": "备注",
                      "field": "remark",
                      "hidden": false,
                      "width": "30%",
                      "editor": {
                        "type": "input",
                        "field": "remark",
                        "options": {
                          "type": "input",
                          "inputType": "text"
                        }
                      }
                    }
                  ],
                  "toolbar": [
                    {
                      "group": [
                        {
                          "name": "D_refresh",
                          "class": "editable-add-btn",
                          "text": "刷新",
                          "action": "REFRESH",
                          "icon": "reload",
                          "color": "text-primary"
                        },
                        {
                          "name": "D_addRow",
                          "class": "editable-add-btn",
                          "text": "新增",
                          "action": "CREATE",
                          "color": "text-primary",
                          "icon": "plus"
                        },
                        {
                          "name": "D_updateRow",
                          "class": "editable-add-btn",
                          "text": "修改",
                          "action": "EDIT",
                          "icon": "edit",
                          "color": "text-success"
                        },
                        {
                          "name": "D_deleteRow",
                          "class": "editable-add-btn",
                          "text": "删除",
                          "icon": "delete",
                          "color": "text-red-light",
                          "ajaxConfig": [
                            {
                              "action": "EXECUTE_CHECKED",
                              "url": "common/DeleteProcess",
                              "ajaxType": "post",
                              "title": "提示",
                              "message": "是否将选中的数据执行当前操作？",
                              "params": [
                                {
                                  "name": "Id",
                                  "valueName": "Id",
                                  "type": "checkedRow"
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "D_saveRow",
                          "class": "editable-add-btn",
                          "text": "保存",
                          "icon": "save",
                          "color": "text-primary",
                          "ajaxConfig": [
                            {
                              "action": "EXECUTE_SAVE_ROW",
                              "url": "common/MdmProcess",
                              "ajaxType": "post",
                              "params": [
                                {
                                  "name": "craftprocessid",
                                  "type": "tempValue",
                                  "valueName": "_craftprocessid",
                                  "value": ""
                                },
                                {
                                  "name": "processcode",
                                  "type": "componentValue",
                                  "valueName": "processcode",
                                  "value": ""
                                },
                                {
                                  "name": "processname",
                                  "type": "componentValue",
                                  "valueName": "processname",
                                  "value": ""
                                },
                                {
                                  "name": "enabled",
                                  "type": "componentValue",
                                  "valueName": "enabled",
                                  "value": ""
                                },
                                {
                                  "name": "securitylevel",
                                  "type": "componentValue",
                                  "valueName": "securitylevel",
                                  "value": ""
                                },
                                {
                                  "name": "sortcode",
                                  "type": "componentValue",
                                  "valueName": "sortcode",
                                  "value": ""
                                },
                                {
                                  "name": "deleteflag",
                                  "type": "value",
                                  "valueName": "",
                                  "value": 1
                                },
                                {
                                  "name": "remark",
                                  "type": "componentValue",
                                  "valueName": "remark",
                                  "value": ""
                                }
                              ]
                            },
                            {
                              "action": "EXECUTE_EDIT_ROW",
                              "url": "common/MdmProcess",
                              "ajaxType": "put",
                              "params": [
                                {
                                  "name": "Id",
                                  "type": "componentValue",
                                  "valueName": "Id",
                                  "value": ""
                                },
                                {
                                  "name": "craftprocessid",
                                  "type": "tempValue",
                                  "valueName": "_craftprocessid",
                                  "value": ""
                                },
                                {
                                  "name": "processcode",
                                  "type": "componentValue",
                                  "valueName": "processcode",
                                  "value": ""
                                },
                                {
                                  "name": "processname",
                                  "type": "componentValue",
                                  "valueName": "processname",
                                  "value": ""
                                },
                                {
                                  "name": "enabled",
                                  "type": "componentValue",
                                  "valueName": "enabled",
                                  "value": ""
                                },
                                {
                                  "name": "securitylevel",
                                  "type": "componentValue",
                                  "valueName": "securitylevel",
                                  "value": ""
                                },
                                {
                                  "name": "sortcode",
                                  "type": "componentValue",
                                  "valueName": "sortcode",
                                  "value": ""
                                },
                                {
                                  "name": "remark",
                                  "type": "componentValue",
                                  "valueName": "remark",
                                  "value": ""
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "name": "D_cancelrow",
                          "class": "editable-add-btn",
                          "text": "取消",
                          "action": "CANCEL",
                          "icon": "rollback",
                          "color": "text-grey-darker"
                        }
                      ]
                    },
                    {
                      "group": [
                        {
                          "name": "D_addSearchRow",
                          "class": "editable-add-btn",
                          "text": "查询",
                          "action": "SEARCH",
                          "actionType": "addSearchRow",
                          "actionName": "addSearchRow",
                          "icon": "search",
                          "color": "text-primary"
                        },
                        {
                          "name": "D_cancelSearchRow",
                          "class": "editable-add-btn",
                          "text": "取消查询",
                          "action": "SEARCH",
                          "actionType": "cancelSearchRow",
                          "actionName": "cancelSearchRow",
                          "icon": "rollback",
                          "color": "text-grey-darker"
                        }
                      ]
                    }
                  ],
                  "beforeOperation": [
                    {
                      "name": "D_updateRow",
                      "status": [
                        {
                          "conditions": [
                            [
                              {
                                "checkType": "tempValue",
                                "valueName":"_enabled",
                                "value": 1
                              }
                            ]
                          ],
                          "action": {
                            "type": "info",
                            "message": "在当前【启用状态】为【启用】下，无法修改工艺信息",
                            "execute": "prevent"
                          }
                        }
                      ]
                    },
                    {
                      "name": "D_deleteRow",
                      "status": [
                        {
                          "conditions": [
                            [
                              {
                                "checkType": "tempValue",
                                "valueName": "_enabled",
                                "value": 1
                              }
                            ],
                            [
                              {
                            
                                "checkType": "tempValue",
                                "valueName": "_enabled",
                                "value": 2
                              }
                            ]
                          ],
                          "action": {
                            "type": "info",
                            "message": "在当前【启用状态】为【非起草】状态，无法删除工艺信息",
                            "execute": "prevent"
                          }
                        }
                      ]
                    }
                  ]
                },
                "dataList": []
              }
            ]
          }
        ]
      }
    }
  ]
}